function setCanvasSize(){canvasEl.width=2*window.innerWidth,canvasEl.height=2*window.innerHeight,canvasEl.style.width=window.innerWidth+"px",canvasEl.style.height=window.innerHeight+"px",canvasEl.getContext("2d").scale(2,2)}function updateCoords(e){pointerX=e.clientX||e.touches[0].clientX,pointerY=e.clientY||e.touches[0].clientY}function setParticuleDirection(e){var n=anime.random(0,360)*Math.PI/180,t=anime.random(50,180),a=[-1,1][anime.random(0,1)]*t;return{x:e.x+a*Math.cos(n),y:e.y+a*Math.sin(n)}}function createParticule(e,n){var t={};return t.x=e,t.y=n,t.color=colors[anime.random(0,colors.length-1)],t.radius=anime.random(16,32),t.endPos=setParticuleDirection(t),t.draw=function(){ctx.beginPath(),ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!0),ctx.fillStyle=t.color,ctx.fill()},t}function createCircle(e,n){var t={};return t.x=e,t.y=n,t.color="#FFF",t.radius=.1,t.alpha=.5,t.lineWidth=6,t.draw=function(){ctx.globalAlpha=t.alpha,ctx.beginPath(),ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!0),ctx.lineWidth=t.lineWidth,ctx.strokeStyle=t.color,ctx.stroke(),ctx.globalAlpha=1},t}function renderParticule(e){for(var n=0;n<e.animatables.length;n++)e.animatables[n].target.draw()}function animateParticules(e,n){for(var t=createCircle(e,n),a=[],i=0;i<numberOfParticules;i++)a.push(createParticule(e,n));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule}).add({targets:t,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:renderParticule,offset:0})}function autoClick(){window.human||(animateParticules(anime.random(centerX-50,centerX+50),anime.random(centerY-50,centerY+50)),anime({duration:200}).finished.then(autoClick))}window.human=!1;var canvasEl=document.querySelector(".wrapper"),ctx=canvasEl.getContext("2d"),numberOfParticules=30,pointerX=0,pointerY=0,tap="ontouchstart"in window||navigator.msMaxTouchPoints?"touchstart":"mousedown",colors=["#FF1461","#18FF92","#5A87FF","#FBF38C"],render=anime({duration:1/0,update:function(){ctx.clearRect(0,0,canvasEl.width,canvasEl.height)}});document.addEventListener(tap,function(e){window.human=!0,render.play(),updateCoords(e),animateParticules(pointerX,pointerY)},!1);var centerX=window.innerWidth/2,centerY=window.innerHeight/2;autoClick(),setCanvasSize(),window.addEventListener("resize",setCanvasSize,!1);